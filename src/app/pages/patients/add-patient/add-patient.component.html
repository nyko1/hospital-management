<!-- Header -->
<app-header></app-header>

<div class="container-fluid">

    <!-- *************
        ************ Main container start *************
    ************* -->
    <div class="main-container">

        <br><br>
        <!-- Page header start -->
        <div class="page-header">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="" routerLink="/admin">Home</a></li>
                <li class="breadcrumb-item active">Add Patient Details</li>
            </ol>
            <div class="site-award">
                <img src="../../../../../assets/images/award.svg" alt="Award"> Best Hospital
            </div>
        </div>
        <!-- Page header end -->


        <!-- Content wrapper start -->
        <div class="content-wrapper">

            <!-- Row start -->
            <div class="row gutters">
                
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Patient Details</div>
                        </div>
                        <div class="card-body">
                            @if (alertMessage) {
                                <div class="alert alert-danger">
                                    {{ alertMessage }}
                                  </div>
                            }
                            @if (patientForm) {
                                <form [formGroup]="patientForm" (ngSubmit)="addPatient()">
                                    <input type="hidden" formControlName="IDDOSSIERPATIENT">
                                    <div class="row gutters">
                                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                            <div class="form-group">
                                                <label for="NOMPATIENT">First Name</label>
                                                <input type="text" class="form-control" formControlName="NOMPATIENT" placeholder="First Name">
                                            </div>
                                        </div>
                                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                            <div class="form-group">
                                                <label for="PRENOMSPATIENT">Last Name</label>
                                                <input type="text" class="form-control" formControlName="PRENOMSPATIENT" placeholder="Last Name">
                                            </div>
                                        </div>
                                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                            <div class="form-group">
                                                <label for="DATENAISSPATIENT">Birthday</label>
                                                <input type="date" class="form-control" formControlName="DATENAISSPATIENT">
                                            </div>
                                        </div>
                                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                            <div class="form-group">
                                                <label for="TELPATIENT">Phone</label>
                                                <input type="text" class="form-control" formControlName="TELPATIENT" placeholder="Phone">
                                            </div>
                                        </div>
                                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                            <div class="form-group">
                                                <label for="EMAILPATIENT">Email</label>
                                                <input type="email" class="form-control" formControlName="EMAILPATIENT" placeholder="Email">
                                            </div>
                                        </div>
                                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                            <div class="form-group">
                                                <label for="ADRESSEPATIENT">Address</label>
                                                <input type="text" class="form-control" formControlName="ADRESSEPATIENT" placeholder="Address">
                                            </div>
                                        </div>
                                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                            <div class="form-group">
                                                <label for="PROFESSIONPATIENT">Patient Job</label>
                                                <input type="text" class="form-control" formControlName="PROFESSIONPATIENT" placeholder="Current job">
                                            </div>
                                        </div>
                                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                            <div class="form-group">
                                                <label for="GROUPESANGUIN">Sanguin Group</label>
                                                <select class="form-control" formControlName="GROUPESANGUIN">
                                                    <option value="O+">O+</option>
                                                    <option value="O-">O-</option>
                                                    <option value="AB+">AB+</option>
                                                    <option value="AB-">AB-</option>
                                                    <option value="A-">A-</option>
                                                    <option value="A+">A+</option>
                                                    <option value="B-">B-</option>
                                                    <option value="B+">B+</option>
                                                </select> 
                                            </div>
                                        </div>
                                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                            <div class="form-group">
                                                <label for="ANTECEDENTPATIENT">Patient History</label>
                                                <textarea class="form-control" formControlName="ANTECEDENTPATIENT" placeholder="Patient History"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                                            <div class="text-right">
                                                <button type="submit" class="btn btn-primary">{{ isEditing ? 'Update Profile' : 'Create Profile' }}</button>
                                                @if (isEditing) {
                                                    <button type="button" class="btn btn-secondary" (click)="cancelEdit()">Cancel</button>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Toast notification -->
                                    <p-toast />
                                </form>
                            }
                           
                        </div>
                    </div>
                </div>
            </div>
            <!-- Row end -->

        </div>
